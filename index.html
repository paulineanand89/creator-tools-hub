<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Free AdSense Technical Readiness & SEO Pre-Checker</title>
  <style>
    body { font-family: Inter, Arial, sans-serif; background:#f5f7fa; margin:0; }
    header { background:#2d3748; color:#fff; padding:15px 30px; font-size:18px; font-weight:600; }
    .container { max-width:900px; margin:40px auto; background:#fff; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,0.1); padding:30px; }
    h1 { font-size:24px; margin-bottom:10px; color:#2d3748; }
    textarea, input[type="text"] { width:100%; padding:12px; margin:10px 0; border:1px solid #cbd5e0; border-radius:6px; font-size:14px; }
    button { background:#3182ce; color:#fff; border:none; padding:12px 20px; border-radius:6px; font-size:14px; cursor:pointer; transition:background 0.2s; }
    button:hover { background:#2b6cb0; }
    .progress { background:#edf2f7; border-radius:6px; overflow:hidden; margin:10px 0; height:14px; }
    .bar { height:14px; background:#3182ce; }
    .badge { display:inline-block; padding:4px 10px; border-radius:12px; font-size:12px; font-weight:600; margin-left:10px; }
    .success { background:#c6f6d5; color:#22543d; }
    .error { background:#fed7d7; color:#742a2a; }
    .score { margin-top:20px; font-size:18px; font-weight:600; color:#2d3748; }
    .verdict { font-size:16px; font-weight:600; margin-top:10px; }
    .disclaimer { margin-top:16px; font-size:13px; color:#555; }
    footer { background:#2d3748; color:#fff; padding:20px; text-align:center; font-size:14px; margin-top:40px; }
    footer button { background:none; border:none; color:#cbd5e0; margin:0 10px; cursor:pointer; font-size:14px; }
    .modal { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index:1000; }
    .modal-content { background:#fff; margin:6% auto; padding:20px; border-radius:8px; max-width:640px; box-shadow:0 10px 24px rgba(0,0,0,0.2); }
    .modal-content h1 { margin-top:0; }
    .modal-close { float:right; background:none; border:none; font-size:20px; cursor:pointer; color:#4a5568; }
    .modal-close:hover { color:#2d3748; }
    form input, form textarea { width:100%; padding:10px; margin:8px 0; border:1px solid #cbd5e0; border-radius:6px; }
    form button { background:#3182ce; color:#fff; border:none; padding:10px 16px; border-radius:6px; cursor:pointer; }
    form button:hover { background:#2b6cb0; }
  </style>
</head>
<body>
  <header>Free AdSense Technical Readiness & SEO Pre-Checker</header>

  <!-- Checker -->
  <div class="container">
    <h1>Technical Audit & Eligibility Indicators</h1>
    <p>Paste HTML or enter a URL below:</p>
    <textarea id="htmlInput" rows="8" placeholder="Paste full HTML here..."></textarea>
    <input type="text" id="urlInput" placeholder="Or enter a full URL (https://...)">
    <button id="runBtn">Run Pre-Check</button>
    <div id="output"></div>
  </div>

  <!-- Privacy Policy Modal -->
  <div id="privacyModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true">
      <button class="modal-close" aria-label="Close" onclick="closeModal('privacyModal')">&times;</button>
      <h1>Privacy Policy</h1>
      <p>Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your information when you visit our website.</p>
      <p>We may collect personal information such as your name, email address, or other details when you voluntarily provide them. We also use cookies and third‑party advertising partners (including Google AdSense) to deliver relevant ads.</p>
      <p>Google, as a third‑party vendor, uses cookies to serve ads on our site. Users may opt out of personalized advertising by visiting <a href="https://www.google.com/settings/ads" target="_blank" rel="noopener">Google Ads Settings</a>.</p>
      <p>We do not sell or share your personal information with outside parties except as required by law.</p>
      <p>By using our site, you consent to this Privacy Policy.</p>
    </div>
  </div>

  <!-- About Modal -->
  <div id="aboutModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true">
      <button class="modal-close" aria-label="Close" onclick="closeModal('aboutModal')">&times;</button>
      <h1>About Us</h1>
      <p>Welcome to our site. We are dedicated to providing high‑quality content on AdSense check requirements.</p>
      <p>Our mission is to share useful insights, tutorials, and resources that help our readers understand AdSense eligibility and readiness.</p>
      <p>We believe in transparency, originality, and delivering value to every visitor.</p>
    </div>
  </div>

  <!-- Contact Modal -->
  <div id="contactModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" onclick="event.stopPropagation()">
      <button class="modal-close" aria-label="Close" onclick="closeModal('contactModal')">&times;</button>
      <h1>Contact Us</h1>
      <p>We’d love to hear from you. If you have questions, feedback, or business inquiries, please reach out:</p>
      <form onsubmit="event.preventDefault(); alert('Thanks! We aim to reply within 48 hrs.');">
        <label for="name">Name (Optional)</label>
        <input type="text" id="name" name="name" placeholder="Your name">

        <label for="email">Email Address (Required)</label>
        <input type="email" id="email" name="email" placeholder="Your email" required>

        <label for="message">Message / Inquiry (Required)</label>
        <textarea id="message" name="message" rows="5" placeholder="Your message" required></textarea>

        <button type="submit">Send</button>
      </form>
      <p>We aim to reply within 48 hrs.</p>
    </div>
  </div>

  <!-- Terms & Disclaimer Modal -->
  <div id="termsModal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true">
      <button class="modal-close" aria-label="Close" onclick="closeModal('termsModal')">&times;</button>
      <h1>Terms & Conditions / Disclaimer</h1>
      <ul>
        <li>All content is provided for informational purposes only. We make no guarantees of accuracy or completeness.</li>
        <li>You may not copy, reproduce, or redistribute our content without permission.</li>
        <li>We are not liable for any damages resulting from the use of this site.</li>
        <li>External links may lead to third‑party sites. We are not responsible for their content or practices.</li>
        <li><strong>Disclaimer:</strong> This tool provides a readiness score only. It does not promise, guarantee, or imply that AdSense approval will be granted. Approval decisions rest solely with Google AdSense.</li>
      </ul>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <button onclick="openModal('privacyModal')">Privacy Policy</button> |
    <button onclick="openModal('aboutModal')">About Us</button> |
    <button onclick="openModal('contactModal')">Contact</button> |
    <button onclick="openModal('termsModal')">Terms & Disclaimer</button>
    <p>&copy; Our Site 2025. All rights reserved.</p>
  </footer>

  <script>
    // Checker (kept simple, with safe defaults and visible output)
    async function fetchHtml(url){
      try {
        const endpoint = "https://misty-credit-b188.paulineanand89.workers.dev/?url=" + encodeURIComponent(url);
        const res = await fetch(endpoint);
        if(!res.ok) return null;
        return await res.text();
      } catch(e){ console.error("fetchHtml error", e); return null; }
    }

    async function checkPolicyPages(baseUrl, homepageHtml){
      const paths = {
        "Privacy Policy": ["/privacy-policy","/privacy"],
        "About Page": ["/about","/about-us"],
        "Contact Page": ["/contact","/contact-us"],
        "Terms / Disclaimer": ["/terms","/disclaimer"]
      };
      const results = {};
      for(const label in paths){
        results[label] = false;
        for(const path of paths[label]){
          const fullUrl = baseUrl.replace(/\/$/, "") + path;
          try {
            const endpoint = "https://misty-credit-b188.paulineanand89.workers.dev/?url=" + encodeURIComponent(fullUrl);
            const res = await fetch(endpoint);
            if(res.ok){
              const html = await res.text();
              if(html.trim() === homepageHtml.trim()) continue;
              const text = html.replace(/<[^>]*>/g," ").trim();
              const wordCount = text.split(/\s+/).length;
              const keyword = label.toLowerCase().split(" ")[0];
              const inTitleOrHeading = new RegExp(`<title[^>]*>.*${keyword}.*</title>`,"i").test(html) ||
                                       new RegExp(`<h[12][^>]*>.*${keyword}.*</h[12]>`,"i").test(html);
              if(wordCount > 100 && inTitleOrHeading){
                results[label] = true;
                break;
              }
            }
          } catch(e){ console.error("Policy check failed", label, e); }
        }
      }
      return results;
    }

    async function runChecker(){
      const out = document.getElementById("output");
      const htmlBox = document.getElementById("htmlInput");
      const urlBox = document.getElementById("urlInput");
      out.innerHTML = "<p>Checking...</p>";

      let html = htmlBox.value.trim();
      const url = urlBox.value.trim();

      if(!html && url){
        html = await fetchHtml(url);
        if(!html){
          out.innerHTML = "<p style='color:red'>Could not fetch this URL.</p>" + disclaimerHtml();
          return;
        }
      }
      if(!html || !url){
        out.innerHTML = "<p style='color:red'>Please paste HTML and enter a valid URL.</p>" + disclaimerHtml();
        return;
      }

      const checks = { trust:[], content:[], seo:[], technical:[], performance:[] };

      // Trust pages
      let policyResults = {};
      try {
        policyResults = await checkPolicyPages(url, html);
      } catch(e) {
        console.error("checkPolicyPages error", e);
        policyResults = { "Privacy Policy": false, "About Page": false, "Contact Page": false, "Terms / Disclaimer": false };
      }
      checks.trust.push({label:"Privacy Policy", ok: !!policyResults["Privacy Policy"]});
      checks.trust.push({label:"About Page", ok: !!policyResults["About Page"]});
      checks.trust.push({label:"Contact Page", ok: !!policyResults["Contact Page"]});
      checks.trust.push({label:"Terms / Disclaimer", ok: !!policyResults["Terms / Disclaimer"]});

      // Content
      const bodyText = html.replace(/<[^>]*>/g," ").trim();
      const wordCount = bodyText ? bodyText.split(/\s+/).length : 0;
      checks.content.push({label:"Word Count ≥ 800", ok: wordCount>=800});
      checks.content.push({label:"Has Headers", ok: /<h1|<h2/i.test(html)});

      // SEO
      checks.seo.push({label:"Title Tag", ok: /<title>/i.test(html)});
      checks.seo.push({label:"Meta Description", ok: /name=["']description["']/i.test(html)});
      checks.seo.push({label:"Canonical Tag", ok: /rel=["']canonical["']/i.test(html)});

      // Technical
      checks.technical.push({label:"HTTPS", ok: url.startsWith("https://")});
      checks.technical.push({label:"Viewport Meta", ok: /viewport/i.test(html)});
      checks.technical.push({label:"ads.txt reference", ok: /google\.com/i.test(html)});

      // Performance placeholder
      checks.performance.push({label:"Basic Speed Check", ok: true});

      // Scoring
      let score = 0;
      let maxScore = 100;
      const weights = {trust:30, content:25, seo:15, technical:20, performance:10};

      for(const cat in checks){
        const passed = checks[cat].filter(c=>c.ok).length;
        const total = checks[cat].length || 1;
        score += Math.round((passed/total)*weights[cat]);
      }

      if(!checks.trust[0].ok) maxScore = Math.min(maxScore,60);
      if(!checks.technical.find(c=>c.label==="HTTPS").ok) maxScore = Math.min(maxScore,50);
      if(!checks.content[0].ok) maxScore = Math.min(maxScore,55);
      if(score>maxScore) score=maxScore;

      let verdict="Low Risk";
      if(score<60) verdict="High Approval Risk";
      else if(score<80) verdict="Medium Risk";

      // Output
      out.innerHTML = "";
      for(const cat in checks){
        out.innerHTML += `<h3>${cat.toUpperCase()}</h3>`;
        checks[cat].forEach(c=>{
          out.innerHTML += `<div>${c.label}<span class="badge ${c.ok?"success":"error"}">${c.ok?"Pass":"Fail"}</span></div>`;
        });
        const catScore = Math.round((checks[cat].filter(c=>c.ok).length/checks[cat].length || 1)*weights[cat]);
        out.innerHTML += `<div class="progress"><div class="bar ${cat}" style="width:${catScore}%"></div></div>`;
      }
      out.innerHTML += `<div class="score">Final Score: ${score}/100</div>`;
      out.innerHTML += `<div class="verdict">${verdict}</div>`;
      out.innerHTML += disclaimerHtml();
    }

    function disclaimerHtml(){
      return `<p class="disclaimer"><strong>Disclaimer:</strong> This tool provides a readiness score only. It does not promise, guarantee, or imply that AdSense approval will be granted. Approval decisions rest solely with Google AdSense.</p>`;
    }

    // Modal logic
    function openModal(id){
      const modal = document.getElementById(id);
      if(!modal) return;
      modal.style.display = "block";
      modal.onclick = function(e){
        if(e.target === modal){ closeModal(id); }
      };
    }
    function closeModal(id){
      const modal = document.getElementById(id);
      if(!modal) return;
      modal.style.display = "none";
      modal.onclick = null;
    }
    // Esc to close
    document.addEventListener('keydown', (e) => {
      if(e.key === 'Escape'){
        ['privacyModal','aboutModal','contactModal','termsModal'].forEach(id=>{
          const m = document.getElementById(id);
          if(m && m.style.display === 'block'){ closeModal(id); }
        });
      }
    });

    // Bind run button after DOM is loaded
    document.getElementById('runBtn').addEventListener('click', runChecker);
  </script>
</body>
</html>
